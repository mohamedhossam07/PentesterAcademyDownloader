import re
import requests
import progressbar
import math
import time

courseLink = input("Enter Course Link : ")
courseCookie = input("Enter SACSID : ")
coursePath = input("Enter Saving Path ends with \ : ")
response = requests.get(courseLink)
courseList = re.findall('\/video\?id=\d*', response.text)
cookies = {'SACSID': courseCookie}
videoNumber = 1
for itrVideo in courseList:
    videoId = int(re.findall('\d.*', itrVideo)[0])
    print ("[+] Downloading https://www.pentesteracademy.com/accounting?id="+str(videoId))
    print (itrVideo)
    r = requests.get("https://www.pentesteracademy.com/accounting?id="+str(videoId), cookies=cookies, stream=True)
    with open( coursePath +"Video" + str(videoNumber) + ".mp4", "wb") as f:
            for chunk in r:
                f.write(chunk)
    videoNumber = videoNumber + 1